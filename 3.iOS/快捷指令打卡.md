>  下班自动提醒的快捷指令工具 🕙



iOS 快捷指令使用记录

---

公司弹性打卡，规则是这样：早上九点半之前到公司，那么下午六点半到七点之间，根据打卡时间弹性下班；早上晚于9点半到公司，需要多加半小时上班时间。

公司采用古老的手指打卡机系统，不提供查询打卡时间，经常忘记啥时候该下班，是否需要多加半小时；于是购买了「小日常」APP，作为习惯每天记录自己的上班时间；快到下班时间打开 APP 查看打卡记录，再计算，操作路径较长，懒。

于是想到了快捷指令，官方概述：该 App 可让您合并多个 App 间的多个步骤，以创建功能强大的任务自动化。

花 15 分钟在 b 站看了几个教程视频后，有了点想法，这东西可以搞。

需求实现逻辑梳理：

- 当到达指定地点-公司；
- 自动记录打卡时间；
- 根据当前打卡时间推算出下班时间；
- 设置提醒事项，提醒时间为下班前 5 分钟



## 实现

~~step 1~~

~~新建快捷指令中添加，搜索位置 ==> 获取当前位置；~~

~~等等，我们是手指打卡，到达位置后的时间不一定是我手指触碰打卡机的时间，到楼下还得扫健康码、等电梯，时间获取不精确，下班早了是要扣钱的...~~

### step 1

**手指打卡后，点击启动手机上的快捷指令；**
创建快捷指令，「详细信息」内点击「添加到主屏幕」，自定义图标和名称，放到手可以轻松触碰的位置，打完卡后点击触发。

### step 2

打卡逻辑梳理，满足以下条件即可

| 上班  | 下班 |
| ----- | ---- |
| 9:00  | 6:30 |
| 9:30  | 7:00 |
| 9:31  | 7:31 |
| 10:00 | 8:00 |

根据所需判断条件在快捷指令内搜索就行，非常方便。

```
### 整体实现如下
获取当前日期
格式化日期
格式化后的日期 - 930（9点半的时间节点）
如果 计算结果 小于或等于 0
  将 日期 加上 34200 秒钟
否则
  如果 计算结果 小于或等于 70
    将 日期 加上 36000 秒钟
  否则
    文本 8:00（迟到）
  结束条件
结束条件

显示预览 打卡时间；下班时间（出现提示框）

从 所有提醒事项 中查找
如果 存在之前设置的下班提醒
  移除该提醒事项
否则
结束条件

计算 下班时间 减去 5分钟
将 下班啦 添加到提醒事项
设置 提醒时间 为下班前 5 分钟
```

over.

同时开启 iOS 和 Mac 的提醒事项同步；那么效果就很 Nice 😄

到点了，验证下结果；

![](https://files.mdnice.com/user/9531/3f5ce0dd-09ea-4178-8b01-83d13f49e14d.png)